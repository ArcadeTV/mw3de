; =================================================================================================
; MACROS
; =================================================================================================

; Set the VRAM (video RAM) address to write to next
    macro SetVRAMWrite
    move.l  #(vdp_cmd_vram_write)|((\1)&$3FFF)<<16|(\1)>>14,vdp_control
    endm

; Set the CRAM (colour RAM) address to write to next
    macro SetCRAMWrite
	move.l  #(vdp_cmd_cram_write)|((\1)&$3FFF)<<16|(\1)>>14,vdp_control
	endm

; ---------------------------------------------------------------------------
; stop the Z80
; ---------------------------------------------------------------------------

	macro stopZ80
	move.w	#$100,(z80_bus_request).l
	endm

; ---------------------------------------------------------------------------
; wait for Z80 to stop
; ---------------------------------------------------------------------------

	macro waitZ80
.\@wait:	
	btst	#0,(z80_bus_request).l
	bne.s	.\@wait
	endm

; ---------------------------------------------------------------------------
; reset the Z80
; ---------------------------------------------------------------------------

	macro resetZ80
	move.w	#$100,(z80_reset).l
	endm

	macro resetZ80a
	move.w	#0,(z80_reset).l
	endm

; ---------------------------------------------------------------------------
; start the Z80
; ---------------------------------------------------------------------------

	macro startZ80
	move.w	#0,(z80_bus_request).l
	endm
